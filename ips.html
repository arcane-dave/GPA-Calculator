<!DOCTYPE html>
<html>
<head>
  <title>Semester GPA Calculator</title>
  <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
</head>

<body>
  <div class="container-fluid mw-100 mh-100 bg-dark" style="border:0;margin-bottom:-1000px;padding-bottom:1000px;">
	<form action="javascript:count()">
	  <div class="card mb-3 mw-100 mh-100 bg-dark" style="border:0">
		<div class="card mt-3 mw-100 mh-100 text-white bg-dark" style="border:0">
		  <center><h3>Semester GPA (IPS) Calculator</h3></center>
		</div>

  <div class="card-body mw-100 mh-100 text-black bg-dark" style="border:0">
	<div class="row mb-2 mw-100 mh-100" style="border:0">
	  <div class="col-md-12 col-lg-12 text-center">
		<p class="text-secondary text-light	">Kalkulator ini dapat digunakan untuk menghitung Indeks Prestasi Semester (IPS)<br>
		  Standar bobot indeks grade yang digunakan adalah sebagai berikut:<br>
			A = 4,00; A- = 3,70; B+ = 3,3; B = 3,00; B- = 2,70; C+ = 2,50; C = 2,00; C- = 1,50; D = 1,00; E = 0,0<br><br>
			Silahkan masukkan Indeks Nilai dalam huruf kapital beserta tanda (+) dan (-) jika ada (contoh: A; B+; C-)</p>
		  </div>
       </div>

       <!-- IPS-->

	<div class="row mb-4">
		<div class="col-lg-12 col-sm-12">
			<div class="card" style="border:0">
		  		<div class="card-header bg-secondary text-white">
					<center><h5>Indeks Prestasi Semester</h5></center>
	</div>
									
		
	<div class="card-body bg-dark">
		<div class="row mb-1">
			<div class="col-4">
				<div class="input-group">
					<input type="text" id="nm01_ips" class="form-control" placeholder="Nama Mata Kuliah">
				</div>
			</div>
			<div class="col-4">
				<div class="input-group">
					<input id="nl01_ips" type="text" pattern="(A|B|C|D|E|A-|B[+]|B-|C[+]|C-|a|b|c|d|e|a-|b[+]|b-|c[+]|c-)"
						title="A/B/C/D/E" maxlength="2" class="form-control" placeholder="Indeks Nilai">
				</div>
			</div>
			<div class="col-4">
				<div class="input-group">
					<input id="sk01_ips" type="number" min="1" max="9" class="form-control" placeholder="Beban SKS">
				</div>
			</div>
		</div>

		<div class="row mb-1">
			<div class="col-4">
				<div class="input-group">
					<input type="text" id="nm02_ips" class="form-control" placeholder="Nama Mata Kuliah">
				</div>
			</div>
			<div class="col-4">
				<div class="input-group">
					<input id="nl02_ips" type="text" pattern="(A|B|C|D|E|A-|B[+]|B-|C[+]|C-|a|b|c|d|e|a-|b[+]|b-|c[+]|c-)"
						title="A/B/C/D/E" maxlength="2" class="form-control" placeholder="Indeks Nilai">
				</div>
			</div>
			<div class="col-4">
				<div class="input-group">
					<input id="sk02_ips" type="number" min="1" max="9" class="form-control" placeholder="Beban SKS">
				</div>
			</div>
		</div>

		<div class="row mb-1">
			<div class="col-4">
				<div class="input-group">
					<input type="text" id="nm03_ips" class="form-control" placeholder="Nama Mata Kuliah">
				</div>
			</div>
			<div class="col-4">
				<div class="input-group">
					<input id="nl03_ips" type="text" pattern="(A|B|C|D|E|A-|B[+]|B-|C[+]|C-|a|b|c|d|e|a-|b[+]|b-|c[+]|c-)"
						title="A/B/C/D/E" maxlength="2" class="form-control" placeholder="Indeks Nilai">
				</div>
			</div>
			<div class="col-4">
				<div class="input-group">
					<input id="sk03_ips" type="number" min="1" max="9" class="form-control" placeholder="Beban SKS">
				</div>
			</div>
		</div>

		<div class="row mb-1">
			<div class="col-4">
				<div class="input-group">
					<input type="text" id="nm04_ips" class="form-control" placeholder="Nama Mata Kuliah">
				</div>
			</div>
			<div class="col-4">
				<div class="input-group">
					<input id="nl04_ips" type="text" pattern="(A|B|C|D|E|A-|B[+]|B-|C[+]|C-|a|b|c|d|e|a-|b[+]|b-|c[+]|c-)"
						title="A/B/C/D/E" maxlength="2" class="form-control" placeholder="Indeks Nilai">
				</div>
			</div>
			<div class="col-4">
				<div class="input-group">
					<input id="sk04_ips" type="number" min="1" max="9" class="form-control" placeholder="Beban SKS">
				</div>
			</div>
		</div>

		<div class="row mb-1">
			<div class="col-4">
				<div class="input-group">
					<input type="text" id="nm05_ips" class="form-control" placeholder="Nama Mata Kuliah">
				</div>
			</div>
			<div class="col-4">
				<div class="input-group">
					<input id="nl05_ips" type="text" pattern="(A|B|C|D|E|A-|B[+]|B-|C[+]|C-|a|b|c|d|e|a-|b[+]|b-|c[+]|c-)"
						title="A/B/C/D/E" maxlength="2" class="form-control" placeholder="Indeks Nilai">
				</div>
			</div>
			<div class="col-4">
				<div class="input-group">
					<input id="sk05_ips" type="number" min="1" max="9" class="form-control" placeholder="Beban SKS">
				</div>
			</div>
		</div>

		<div class="row mb-1">
			<div class="col-4">
				<div class="input-group">
					<input type="text" id="nm06_ips" class="form-control" placeholder="Nama Mata Kuliah">
				</div>
			</div>
			<div class="col-4">
				<div class="input-group">
					<input id="nl06_ips" type="text" pattern="(A|B|C|D|E|A-|B[+]|B-|C[+]|C-|a|b|c|d|e|a-|b[+]|b-|c[+]|c-)"
						title="A/B/C/D/E" maxlength="2" class="form-control" placeholder="Indeks Nilai">
				</div>
			</div>
			<div class="col-4">
				<div class="input-group">
					<input id="sk06_ips" type="number" min="1" max="9" class="form-control" placeholder="Beban SKS">
				</div>
			</div>
		</div>
		
		<div class="row mb-1">
			<div class="col-4">
				<div class="input-group">
					<input type="text" id="nm07_ips" class="form-control" placeholder="Nama Mata Kuliah">
				</div>
			</div>
			<div class="col-4">
				<div class="input-group">
					<input id="nl07_ips" type="text" pattern="(A|B|C|D|E|A-|B[+]|B-|C[+]|C-|a|b|c|d|e|a-|b[+]|b-|c[+]|c-)"
						title="A/B/C/D/E" maxlength="2" class="form-control" placeholder="Indeks Nilai">
				</div>
			</div>
			<div class="col-4">
				<div class="input-group">
					<input id="sk07_ips" type="number" min="1" max="9" class="form-control" placeholder="Beban SKS">
				</div>
			</div>
		</div>

		<div class="row mb-1">
			<div class="col-4">
				<div class="input-group">
					<input type="text" id="nm08_ips" class="form-control" placeholder="Nama Mata Kuliah">
				</div>
			</div>
			<div class="col-4">
				<div class="input-group">
					<input id="nl08_ips" type="text" pattern="(A|B|C|D|E|A-|B[+]|B-|C[+]|C-|a|b|c|d|e|a-|b[+]|b-|c[+]|c-)"
						title="A/B/C/D/E" maxlength="2" class="form-control" placeholder="Indeks Nilai">
				</div>
			</div>
			<div class="col-4">
				<div class="input-group">
					<input id="sk08_ips" type="number" min="1" max="9" class="form-control" placeholder="Beban SKS">
				</div>
			</div>
		</div>

		<div class="row mb-1">
			<div class="col-4">
				<div class="input-group">
					<input type="text" id="nm09_ips" class="form-control" placeholder="Nama Mata Kuliah">
				</div>
			</div>
			<div class="col-4">
				<div class="input-group">
					<input id="nl09_ips" type="text" pattern="(A|B|C|D|E|A-|B[+]|B-|C[+]|C-|a|b|c|d|e|a-|b[+]|b-|c[+]|c-)"
						title="A/B/C/D/E" maxlength="2" class="form-control" placeholder="Indeks Nilai">
				</div>
			</div>
			<div class="col-4">
				<div class="input-group">
					<input id="sk09_ips" type="number" min="1" max="9" class="form-control" placeholder="Beban SKS">
				</div>
			</div>
		</div>

		<div class="row mb-1">
			<div class="col-4">
				<div class="input-group">
					<input type="text" id="nm10_ips" class="form-control" placeholder="Nama Mata Kuliah">
				</div>
			</div>
			<div class="col-4">
				<div class="input-group">
					<input id="nl10_ips" type="text" pattern="(A|B|C|D|E|A-|B[+]|B-|C[+]|C-|a|b|c|d|e|a-|b[+]|b-|c[+]|c-)"
						title="A/B/C/D/E" maxlength="2" class="form-control" placeholder="Indeks Nilai">
				</div>
			</div>
			<div class="col-4">
				<div class="input-group">
					<input id="sk10_ips" type="number" min="1" max="9" class="form-control" placeholder="Beban SKS">
					</div>
				</div>
			</div>
		</div>
       
	<div class="card-footer bg-secondary text-white">
		<center><h6 id="ips_ips">Indeks Prestasi Semester : 0.00</h6> <h6 id="sks_ips">Jumlah SKS Ditempuh     : 0</h6></center>
		</div>
	</div>

<div class="row mt-4 text-center">
    <div class="col-sm-12 text-center"></div></div>
        <center><button class="btn btn-lg btn-block btn-primary" style="width:400px"; type="submit">Hitung Indeks Prestasi Semester</button></center>
    </div>

</div>
</div>
</div>
</form>
</div>

<script type="text/javascript">

	// Returns character-based index to its equivalent integer form
	function index (val){
		if (val == "A") {
					return 4;
				}	else if (val == "A-") {
						return 3.7
				}	else if (val == "B+") {
						return 3.3
				}	else if (val == "B") {
						return 3
				}	else if (val == "B-") {
						return 2.7
				}	else if (val == "C+") {
						return 2.5
				}	else if (val == "C") {
						return 2
				}	else if (val == "C-") {
						return 1.5
				}	else if (val == "D") {
						return 1
				}	else if (val == "E") {
						return 0
				}	else if (val == "a") {
						return 4
				}	else if (val == "a-") {
						return 3.7
				}	else if (val== "b+") {
						return 3.3
				}	else if (val == "b") {
						return 3
				}	else if (val == "b-") {
						return 2.7
				}	else if (val == "c") {
						return 2
				}	else if (val == "d") {
						return 1
				}	else if (val == "e") {
						return 0
				}	else {
						return null;
				}
			}
		
		
	// Check whether parsed semester GPA value is a number or not
	function semesterCheck(grade){
			if (Number.isNaN(grade)) {
				return '0.00';
			} else {
				return grade.toFixed(2).toString();
			}
		}

		// Check whether parsed credit value is a number or not
		function creditCheck(grade){
			if (Number.isNaN(grade)) {
				return '0';
			} else {
				return grade;
			}
		}	

	// Array to store total grade points and total credits taken
	function count(){ 
		var grade = [];
		var totalGrade = 0;
		var totalCredit = 0;

	    // IPS Calculation
		var ips = [];

		var nl01_ips = index(document.getElementById("nl01_ips").value);
		var nl02_ips = index(document.getElementById("nl02_ips").value);
		var nl03_ips = index(document.getElementById("nl03_ips").value);
		var nl04_ips = index(document.getElementById("nl04_ips").value);
		var nl05_ips = index(document.getElementById("nl05_ips").value);
		var nl06_ips = index(document.getElementById("nl06_ips").value);
		var nl07_ips = index(document.getElementById("nl07_ips").value);
		var nl08_ips = index(document.getElementById("nl08_ips").value);
		var nl09_ips = index(document.getElementById("nl09_ips").value);
		var nl10_ips = index(document.getElementById("nl10_ips").value);

		var sk01_ips = parseInt(document.getElementById("sk01_ips").value);
		var sk02_ips = parseInt(document.getElementById("sk02_ips").value);
		var sk03_ips = parseInt(document.getElementById("sk03_ips").value);
		var sk04_ips = parseInt(document.getElementById("sk04_ips").value);
		var sk05_ips = parseInt(document.getElementById("sk05_ips").value);
		var sk06_ips = parseInt(document.getElementById("sk06_ips").value);
		var sk07_ips = parseInt(document.getElementById("sk07_ips").value);
		var sk08_ips = parseInt(document.getElementById("sk08_ips").value);
		var sk09_ips = parseInt(document.getElementById("sk09_ips").value);
		var sk10_ips = parseInt(document.getElementById("sk10_ips").value);
			
			if (nl01_ips != null){ ips.push([nl01_ips, sk01_ips]); }
			if (nl02_ips != null){ ips.push([nl02_ips, sk02_ips]); }
			if (nl03_ips != null){ ips.push([nl03_ips, sk03_ips]); }
			if (nl04_ips != null){ ips.push([nl04_ips, sk04_ips]); }
			if (nl05_ips != null){ ips.push([nl05_ips, sk05_ips]); }
			if (nl06_ips != null){ ips.push([nl06_ips, sk06_ips]); }
			if (nl07_ips != null){ ips.push([nl07_ips, sk07_ips]); }
			if (nl08_ips != null){ ips.push([nl08_ips, sk08_ips]); }
			if (nl09_ips != null){ ips.push([nl09_ips, sk09_ips]); }
			if (nl10_ips != null){ ips.push([nl10_ips, sk10_ips]); }

			if (ips.length > 0) { grade.push(ips); }

			var jml_sks_ips = 0;
			var totalGrade_ips = 0;

			for (var a = 0; a < ips.length; a++) {
				jml_sks_ips += ips[a][1];
				var temp = ips[a][0] * ips[a][1];
				totalGrade_ips += temp;
			    }

			totalGrade += totalGrade_ips;
			totalCredit += jml_sks_ips;
			
            var ips_ips = totalGrade_ips / jml_sks_ips;

	
        // Final IPS Calculation
        var ipk = totalGrade / totalCredit;

        // Output
        document.getElementById("ips_ips").innerHTML = "Indeks Prestasi Semester : " + semesterCheck(ips_ips);
        document.getElementById("sks_ips").innerHTML = "Jumlah SKS Ditempuh : " + creditCheck(jml_sks_ips);
	}
	
</script>
</body>
</html>